<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <!--<meta http-equiv="X-UA-Compatible" content="IE=edge">-->
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <link  rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.min.css">

    <!-- Favicon icon -->
    <script src="/assets/plugins/jquery/jquery.min.js"></script>
    <script src="/assets/plugins/bootstrap/js/tether.min.js"></script>
    <script src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script>

    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon.png">
    <title>Monster Admin Template - The Most Complete & Trusted Bootstrap 4 Admin Template</title>
    <!-- Bootstrap Core CSS -->

    <!-- Custom CSS -->
    <link href="/css/style.css" rel="stylesheet">
    <!-- You can change the theme colors from here -->
    <link href="/css/colors/blue.css" id="theme" rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <!--<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>-->
    <!--<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>-->


<![endif]-->
    <!-- Bootstrap tether Core JavaScript -->


    <!-- slimscrollbar scrollbar JavaScript -->
    <script src="/js/jquery.slimscroll.js"></script>
    <!--Wave Effects -->
    <script src="/js/waves.js"></script>
    <!--Menu sidebar -->
    <script src="/js/sidebarmenu.js"></script>
    <!--stickey kit -->
    <script src="/assets/plugins/sticky-kit-master/dist/sticky-kit.min.js"></script>
    <!--Custom JavaScript -->
    <script src="/js/custom.min.js"></script>
    <!-- ============================================================== -->
    <!-- This page plugins -->
    <!-- ============================================================== -->
    <!-- Flot Charts JavaScript -->
    <script src="/assets/plugins/flot/jquery.flot.js"></script>
    <script src="/assets/plugins/flot.tooltip/js/jquery.flot.tooltip.min.js"></script>
    <script src="/js/flot-data.js"></script>
    <!-- ============================================================== -->
    <!-- Style switcher -->
    <!-- ============================================================== -->
    <script src="/assets/plugins/styleswitcher/jQuery.style.switcher.js"></script>
</head>
<script type="text/javascript">
    // $(function () {
    //     $("#delete").click(function () {
    //         var mymessage=confirm("你确定要删除该同学吗？");
    //         if(mymessage==true)
    //         {
    //             var targetUrl = $("#targetUrl").attr("href");
    //             alert(targetUrl);
    //             $.ajax({
    //                 type:"get",
    //                 url:targetUrl,
    //                 async : true,
    //                 // cache: false,
    //                 data:data,  //重点必须为一个变量如：data
    //                 dataType:"text",
    //                 success:function(data){
    //                     if(data=="1"){
    //                         alert('修改成功');
    //                     }
    //                     else{
    //                         alert("修改失败,请联系管理员");
    //                     }
    //                 },
    //                 error:function(data){
    //                     alert("修改失败,请联系管理员");
    //                 }
    //             });
    //         }
    //         else if(mymessage==false)
    //         {
    //         }
    //     });
    // });
    function deleteById(id) {
        var mymessage=confirm("你确定要删除该同学吗？");
        var targetUrl="/student/delete/";
        if(mymessage==true)
        {
            targetUrl=targetUrl+id;
            $.ajax({
                type:"get",
                url:targetUrl,
                async : true,
                // cache: false,
                data:data,  //重点必须为一个变量如：data
                dataType:"text",
                success:function(data){
                    if(data=="1"){
                        alert('删除成功');
                        window.location.href="/student/list";
                    }
                    else{
                        alert("删除失败,请联系管理员");
                    }
                },
                error:function(data){
                    alert("删除失败,请联系管理员");
                }
            });
        }
        else if(mymessage==false)
        {
        }
    }
</script>
<body class="fix-header fix-sidebar card-no-border">
    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
        <svg class="circular" viewBox="25 25 50 50">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" /> </svg>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper">
        <aside class="left-sidebar">
            <!-- Sidebar scroll-->
            <div style="text-align:center;">
                <img src="/1.png" width="230px" height="75px">
            </div>
            <div class="scroll-sidebar">
                <!-- Sidebar navigation-->
                <nav class="sidebar-nav">
                    <ul id="sidebarnav">
                        <li>
                            <a th:href="@{/student/list}" class="waves-effect"><i class="fa fa-user m-r-10" aria-hidden="true"></i>学生管理</a>
                        </li>
                        <li>
                            <a th:href="@{/teacher/list}" class="waves-effect"><i class="fa fa-user m-r-10" aria-hidden="true"></i>教师管理</a>
                        </li>
                        <li>
                            <a th:href="@{/timeTable/list}" class="waves-effect"><i class="fa fa-table m-r-10" aria-hidden="true"></i>上课记录</a>
                        </li>
                        <li>
                            <a th:href="@{/project/list}" class="waves-effect"><i class="fa fa-table m-r-10" aria-hidden="true"></i>科目管理</a>
                        </li>
                        <li>
                            <a th:href="@{/classes/list}" class="waves-effect"><i class="fa fa-table m-r-10" aria-hidden="true"></i>班级管理</a>
                        </li>
                    </ul>
                    <!--<div class="text-center m-t-30">-->
                        <!--<img src="/asserts/images/1.png" >Download Here</img>-->
                    <!--</div>-->
                </nav>
                <!-- End Sidebar navigation -->
            </div>
            <!-- End Sidebar scroll-->
        </aside>
        <!-- ============================================================== -->
        <!-- End Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper">
                <div class="container-fluid">
                <div>
                    <div style="text-align:center;">
                        <img src="/2.png" width="230px" height="75px">
                    </div>
                <form class="form-inline" th:action="@{/student/list}">
                <div class="form-group mx-sm-3 mb-2">
                    <label for="inputPassword2" class="sr-only">Password</label>
                    <input type="text" class="form-control" id="inputPassword2" placeholder="学生姓名" name="sname" th:value="${sname}">
                </div>
                <button type="submit" class="btn btn-primary mb-2">查询</button>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                    <a th:href="@{/student/multPage}" class="btn btn-success mb-2">批量操作</a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
            </form>
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th>学生名字</th>
                        <th>联系电话</th>
                        <th>报名时间</th>
                        <th>续费时间</th>
                        <th>剩余课时</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                <tr th:each="student:${info.list}">
                    <td th:text="${student.sname}"></td>
                    <td th:text="${student.sphone}"></td>
                    <td th:text="${#dates.format(student.startDate,'yyyy-MM-dd')}"></td>
                    <td th:text="${#dates.format(student.renewDate,'yyyy-MM-dd')}"></td>
                    <td th:text="${student.duration}"></td>
                    <td>
                        <a class="btn btn-default" th:href="@{/student/}+${student.id}" role="button">详情</a>
                        <a class="btn btn-default" th:href="@{/student/updateId(id=${student.id})}" role="button">登记</a>
                        <a class="btn btn btn-default" th:href="@{/student/addShow}">添加</a>
                        <a id="delete" class="btn btn btn-default" th:onclick="'javascript:deleteById('+${student.id}+')'">删除</a>
                    </td>
                </tr>
                </table>
                <!-- ============================================================== -->
                <!-- End PAge Content -->
                <center>
                  <h6>  总记录数:<span th:text="${info.total}"></span></h6>
                </center>
                <!-- ============================================================== -->
                <nav aria-label="Page navigation">
                    <ul class="pagination">
                        <th:block th:if="${info.pageNum!=1}">
                        <li>
                            <a th:href="@{/student/list(indexPage=${info.pageNum-1},sname=${sname})}" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        </th:block>
                        <th:block th:each="nav:${info.navigatepageNums}">
                            <li th:class="${nav==info.pageNum}?'active':''">
                                <a th:href="@{/student/list(indexPage=${nav},sname=${sname})}" th:text="${nav}">
                                </a>
                            </li>
                        </th:block>
                        <th:block th:if="${info.pageNum!=info.pages}">
                        <li>
                            <a th:href="@{/student/list(indexPage=${info.pageNum+1},sname=${sname})}" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                        </th:block>
                    </ul>
                </nav>
            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- End footer -->
            <!-- ============================================================== -->
        <!--</div>-->
        <!-- ============================================================== -->
        <!-- End Page wrapper  -->
        <!-- ============================================================== -->
        </div>
            </div>
        </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- All Jquery -->
    <!-- ============================================================== -->
</body>

</html>
